# 获取暂存区中的文件 格式化和校验后再加入暂存区
files=$(
  git diff --name-only --cached |
  grep -E '\.(js|ts|jsx|tsx|vue|css|scss|less|html)$' |
  tr '\n' ' '
)
if [ -n "$files" ]; then
  prettier --config .prettierrc --write $files
  git add $files
  eslint --no-fix $files
fi